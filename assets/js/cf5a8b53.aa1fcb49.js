"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[58031],{35635:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>n,metadata:()=>a,toc:()=>h});var s=t(74848),o=t(28453);const n={title:"Verify Webhooks Using Dyte's Signature and Webhook ID",sidebar_position:4,description:"Learn how to use signatures with Dyte's webhook capabilities. Follow our guide for effective signature implementation."},r=void 0,a={id:"capabilities/webhooks/signatures",title:"Verify Webhooks Using Dyte's Signature and Webhook ID",description:"Learn how to use signatures with Dyte's webhook capabilities. Follow our guide for effective signature implementation.",source:"@site/docs/guides/capabilities/webhooks/signatures.mdx",sourceDirName:"capabilities/webhooks",slug:"/capabilities/webhooks/signatures",permalink:"/docs/guides/capabilities/webhooks/signatures",draft:!1,unlisted:!1,editUrl:"https://github.com/dyte-io/docs/tree/main/docs/guides/capabilities/webhooks/signatures.mdx",tags:[],version:"current",lastUpdatedAt:1709899166,formattedLastUpdatedAt:"Mar 8, 2024",sidebarPosition:4,frontMatter:{title:"Verify Webhooks Using Dyte's Signature and Webhook ID",sidebar_position:4,description:"Learn how to use signatures with Dyte's webhook capabilities. Follow our guide for effective signature implementation."},sidebar:"tutorialSidebar",previous:{title:"Webhook Events List",permalink:"/docs/guides/capabilities/webhooks/webhook-events"},next:{title:"Introduction to Dyte's Breakout Rooms",permalink:"/docs/guides/capabilities/breakoutroom/introduction-breakout-rooms"}},d={},h=[{value:"Verify using Dyte&#39;s signature",id:"verify-using-dytes-signature",level:2},{value:"Obtain our public key",id:"obtain-our-public-key",level:3},{value:"Check for the signature header",id:"check-for-the-signature-header",level:3},{value:"Verify the signature",id:"verify-the-signature",level:3},{value:"Sample code",id:"sample-code",level:3},{value:"Verify using webhook IDs",id:"verify-using-webhook-ids",level:2}];function c(e){const i={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Head:t,TabItem:n,Tabs:r}=i;return t||l("Head",!0),n||l("TabItem",!0),r||l("Tabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"You can verify webhooks using Dyte's signature and webhook IDs."}),"\n",(0,s.jsx)(i.h2,{id:"verify-using-dytes-signature",children:"Verify using Dyte's signature"}),"\n",(0,s.jsx)(i.p,{children:"Dyte verifies the webhook events it sends to your endpoints by including a\nsignature in the dyte-signature header of each event. This allows you to confirm\nthat the event came from Dyte and not a malicious server impersonating Dyte."}),"\n",(0,s.jsx)(i.p,{children:"Perform the following steps to verify signatures."}),"\n",(0,s.jsx)(i.h3,{id:"obtain-our-public-key",children:"Obtain our public key"}),"\n",(0,s.jsxs)(i.p,{children:["Our public key is available at\n",(0,s.jsx)(i.code,{children:"https://api.dyte.io/.well-known/webhooks.json"}),". You can obtain it by\nmaking a GET request to this endpoint."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:'curl -X GET "https://api.dyte.io/.well-known/webhooks.json"\n'})}),"\n",(0,s.jsx)(i.h3,{id:"check-for-the-signature-header",children:"Check for the signature header"}),"\n",(0,s.jsxs)(i.p,{children:["Every incoming request will have a custom ",(0,s.jsx)(i.code,{children:"dyte-signature"})," header. This is the\nvalue that you should verify in the next step."]}),"\n",(0,s.jsx)(i.h3,{id:"verify-the-signature",children:"Verify the signature"}),"\n",(0,s.jsxs)(i.p,{children:["The signature is based on the ",(0,s.jsx)(i.code,{children:"RSA-SHA256"})," digest of the request payload. You\ncan calculate this on your end and compare it against the one supplied in the\nheader. If the two values are equal, you can safely consider that this request\nindeed originated from Dyte."]}),"\n",(0,s.jsx)(i.h3,{id:"sample-code",children:"Sample code"}),"\n",(0,s.jsx)(r,{children:(0,s.jsx)(n,{value:"node",label:"Node.js",children:(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-js",children:"const crypto = require('crypto');\n\napp.post('/webhook', express.json({ type: 'application/json' }), (req, res) => {\n  const signature = req.headers['dyte-signature'];\n  const payload = req.body;\n\n  const isVerified = crypto.verify(\n    'RSA-SHA256',\n    Buffer.from(JSON.stringify(payload)),\n    dytePublicKey,\n    Buffer.from(signature, 'base64')\n  );\n  // ... do further processing\n});\n"})})})}),"\n",(0,s.jsx)(i.h2,{id:"verify-using-webhook-ids",children:"Verify using webhook IDs"}),"\n",(0,s.jsx)(i.p,{children:"Webhook IDs are used to uniquely identify a specific webhook endpoint or events. When a webhook is created in a system, the system assigns it a unique ID that can be used to manage and track the webhook's activity. This ID is usually a string of characters or a number that is specific to the webhook and cannot be duplicated."}),"\n",(0,s.jsx)("img",{src:"/static/webhook/webhook_id.png",width:"600",height:"300",alt:"webhook-id",className:"webhook-id-use"}),"\n",(0,s.jsx)(i.p,{children:"Webhook IDs are commonly utilized for the following purposes:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Manage the events"}),": When a webhook is subscribed to a specific event or resource, the webhook ID is used to manage the subscription."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Enhanced security"}),": Typically a signature is added to the request header of the webhook. To further add a security check, Dyte adds a webhook ID to the header. As mentioned earlier, this ID is unique to each webhook subscription and can be used to verify that the request corresponds to the correct subscription."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Error handling"}),": If there is an issue with a webhook request, such as a failed delivery or invalid payload, the webhook ID can be used to identify which specific webhook endpoint caused the error. This can be useful for troubleshooting and resolving issues with webhook integrations."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("title",{children:"Verify Webhooks Using Dyte's Signature and Webhook ID Guide"}),(0,s.jsx)("meta",{name:"description",content:"Learn how to use signatures with Dyte's webhook capabilities. Follow our guide for effective signature implementation."})]})]})}function u(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}function l(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(e,i,t)=>{t.d(i,{R:()=>r,x:()=>a});var s=t(96540);const o={},n=s.createContext(o);function r(e){const i=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(n.Provider,{value:i},e.children)}}}]);