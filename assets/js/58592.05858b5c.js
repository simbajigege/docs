"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[58592,36211],{8327:(t,e,r)=>{r.d(e,{M:()=>b,T:()=>a,d:()=>s,e:()=>m,f:()=>c,g:()=>i,h:()=>o,i:()=>l,j:()=>n,k:()=>f,p:()=>w,r:()=>d,s:()=>y});r(55055);const n=t=>{let e=null;try{const r=JSON.parse(t.message),{target:n,message:s}=r;e=void 0===n||void 0===s?t:Object.assign(Object.assign({},t),{targetUserIds:n,message:s})}catch(r){e=t}return e};function s(t,e){return t.localeCompare(e)}function i(t){return t.sort(((t,e)=>t.localeCompare(e))).join("_")}function o(t,e){if(null==t)return!0;for(const r of t)if("file"===r.kind){const t=r.getAsFile();r.type.startsWith("image/")?e("image",t):e("file",t)}}const a="dm__";function l(t){return t.isDirectMessage}function c(t){return[...new Set(t)].sort(s).join("<>")}function d(t){return t.split("").reverse().join("")}const p=/^\*([^*\s]+)\*/,u=/^_([^_\s]+)_/,h=/^~([^~\s]+)~/,g=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.,~#?&//=]*)/,f=/<blockquote>[.\s\S]*<\/blockquote>\n\n/m;function m(t,e=!1){if(!f.test(t))return"";let r=0,n=13;return e&&(r=12,n=0),t.substring(t.indexOf("<blockquote>")+r,t.indexOf("</blockquote>")+n)}function y(t){return t.replace(f,"")}const b=2e3,x=["<a>","<b>","<i>","<q>","<s>"];function w(t){t=(t=t.split(" ").map((t=>{if(g.test(t)){const e=g.exec(t);t=t.replace(e[0],`<a>${e[0]}</a>`)}else{if(p.test(t)){const e=p.exec(t);t=t.replace(e[0],`<b>${e[1]}</b>`)}if(u.test(t)){const e=u.exec(t);t=t.replace(e[0],`<i>${e[1]}</i>`)}if(h.test(t)){const e=h.exec(t);t=t.replace(e[0],`<s>${e[1]}</s>`)}}return t})).join(" ")).split(" ").map(((t,e)=>">"!==t||0!==e&&">"!==t[e-1]?t:"<q></q>")).join(" ");const[e]=v(t);return e}function v(t,e=""){const r=[];if(0===t.length)return[r,0];let n=0;for(;n<t.length;){if(e.length&&e===t.substring(n,n+e.length))return[r,n+e.length];if(x.includes(t.substring(n,n+3))){const[e,s]=v(t.substring(n+3),`</${t[n+1]}>`);r.push({type:t[n+1],content:1===e.length&&"plain_text"===e[0].type?e[0].content:e}),n+=s+3}else{let e=r[r.length-1];e&&"plain_text"===e.type||(r.push({type:"plain_text",content:""}),e=r[r.length-1]),e.content+=t[n],n++}}return[r,n]}},36211:(t,e,r)=>{r.r(e),r.d(e,{dyte_markdown_view:()=>o,dyte_text_message_view:()=>a});var n=r(72944),s=r(8327),i=r(1821);r(55055);const o=class{constructor(t){(0,n.r)(this,t),this.restoreEmpty=(t,e,r)=>0===t.trim().length?`${e}${t}${e}`:r(t),this.renderLink=t=>(0,n.h)("a",{class:"link",href:t,target:"_blank",rel:"noopener noreferrer"},t),this.renderBold=t=>"string"==typeof t?this.restoreEmpty(t,"*",(t=>(0,n.h)("b",null,t))):(0,n.h)("b",null,this.renderTokens(t)),this.renderItalic=t=>"string"==typeof t?this.restoreEmpty(t,"_",(t=>(0,n.h)("i",null,t))):(0,n.h)("i",null,this.renderTokens(t)),this.renderStrikethrough=t=>"string"==typeof t?this.restoreEmpty(t,"~",(t=>(0,n.h)("s",null,t))):(0,n.h)("b",null,this.renderTokens(t)),this.renderPlainText=t=>"string"==typeof t?t:(0,n.h)("p",null,this.renderTokens(t)),this.renderTokens=t=>t.map((t=>{switch(t.type){case"a":if("string"==typeof t.content)return this.renderLink(t.content);case"b":return this.renderBold(t.content);case"i":return this.renderItalic(t.content);case"s":return this.renderStrikethrough(t.content);case"q":return(0,n.h)("span",{class:"block-quote"});default:return this.renderPlainText(t.content)}})),this.text=void 0,this.maxLength=s.M}render(){const t=this.text.slice(0,this.maxLength),e=(0,s.e)(t,!0),r=(0,s.s)(t);return(0,n.h)("p",null,0!==e.length&&(0,n.h)("blockquote",null,e.split("\n").map((t=>{const e=(0,s.p)(t);return(0,n.h)("p",null,this.renderTokens(e))}))),r.split("\n").map((t=>{const e=(0,s.p)(t);return(0,n.h)("p",null,this.renderTokens(e))})))}};o.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{overflow-wrap:break-word}a{color:currentColor}.block-quote,blockquote{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-3, 12px);--tw-border-spacing-x:1px;--tw-border-spacing-y:1px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);border-top-width:var(--dyte-border-width-none, 0);border-bottom-width:var(--dyte-border-width-none, 0);border-left-width:var(--dyte-border-width-md, 2px);border-right-width:var(--dyte-border-width-none, 0);border-style:solid;padding:var(--dyte-space-0\\.5, 2px);padding-left:var(--dyte-space-2, 8px);border-radius:var(--dyte-border-radius-sm, 4px);border-top-left-radius:var(--dyte-border-radius-none, 0);border-bottom-left-radius:var(--dyte-border-radius-none, 0)}";const a=class{constructor(t){(0,n.r)(this,t),this.text=void 0,this.isMarkdown=!1}render(){return(0,n.h)("p",{class:{text:!0,emoji:(0,i.h)(this.text)}},this.isMarkdown?(0,n.h)("dyte-markdown-view",{text:this.text}):this.text)}};a.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}.text{display:block;overflow-wrap:break-word;line-height:1.375}.text.emoji{font-size:24px}"},1821:(t,e,r)=>{r.d(e,{a:()=>i,f:()=>o,g:()=>c,h:()=>s,s:()=>n});const n=(t,e=20)=>null==t?"":t.length>e?`${t.substring(0,e)}...`:t,s=t=>/^\p{Emoji}+$/u.test(t)&&!/^\d+$/.test(t),i=t=>(null==t?void 0:t.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":t,o=t=>""===(t=null==t?void 0:t.trim())?"Participant":t,a=new RegExp(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/,"g"),l=new RegExp(/\s+/);function c(t,e=2){return t.replace(a,"").trim().split(l).slice(0,e).map((t=>t.charAt(0))).join("").toUpperCase()}},55055:(t,e,r)=>{r.d(e,{a:()=>i,b:()=>l,c:()=>d,g:()=>c,s:()=>a});const n={get:(t,e,r)=>(...n)=>{try{return Reflect.get(t,e,r).apply(t,n)}catch(s){return null}}};let s;try{s=new Proxy(localStorage,n)}catch(p){s=new Proxy({},n)}const i=s,o="dyte-prefs",a=(t,e)=>{const r=JSON.parse(i.getItem(o)||"{}");r[t]=JSON.stringify(e),i.setItem("dyte-prefs",JSON.stringify(r))},l=t=>JSON.parse(i.getItem(o)||"{}")[t],c=()=>{const t=JSON.parse(i.getItem(o)||"{}");return{mirrorVideo:!t["mirror-video"]||"true"===t["mirror-video"],muteNotificationSounds:!!t["mute-notification-sounds"]&&"true"===t["mute-notification-sounds"]}},d={}}}]);