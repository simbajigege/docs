"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[87933],{39370:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var t=i(74848),a=i(28453);const o={title:"Advance",sidebar_position:1},r=void 0,d={id:"advanced/advance",title:"Advance",description:"Defaults Configuration",source:"@site/docs/web-core/advanced/advance.mdx",sourceDirName:"advanced",slug:"/advanced/advance",permalink:"/docs/web-core/advanced/advance",draft:!1,unlisted:!1,editUrl:"https://github.com/dyte-io/docs/tree/main/docs/web-core/advanced/advance.mdx",tags:[],version:"current",lastUpdatedAt:1711302110,formattedLastUpdatedAt:"Mar 24, 2024",sidebarPosition:1,frontMatter:{title:"Advance",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Quickstart",permalink:"/docs/web-core/"},next:{title:"Introduction",permalink:"/docs/web-core/local-user/introduction"}},s={},c=[{value:"Defaults Configuration",id:"defaults-configuration",level:2},{value:"audio, video",id:"audio-video",level:3},{value:"screenShare.displaySurface",id:"screensharedisplaysurface",level:3},{value:"mediaConfiguration",id:"mediaconfiguration",level:3},{value:"isNonPreferredDevice",id:"isnonpreferreddevice",level:3},{value:"autoSwitchAudioDevice",id:"autoswitchaudiodevice",level:3},{value:"recording",id:"recording",level:3}];function l(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components},{Head:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"defaults-configuration",children:"Defaults Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"await DyteClient.init({\n  defaults: {\n    ...\n  }\n})\n"})}),"\n",(0,t.jsx)(n.p,{children:"While initializing DyteClient you can pass configuration overrides, the available options are"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"type DefaultOptions {\n\tvideo?: boolean;\n\taudio?: boolean;\n\tscreenShare?: {\n\t\tdisplaySurface?: 'window' | 'monitor' | 'browser';\n\t};\n\tmediaConfiguration?: {\n\t\tvideo?: VideoQualityConstraints,\n\t\taudio?: AudioQualityConstraints,\n\t}\n\tisNonPreferredDevice?: (device: MediaDeviceInfo) => boolean;\n\t/**\n\t * If true, will automatically switch audio input and output device\n\t * to a new device connected mid call. (In case of disconnection switch\n\t * will happen automatically in both cases)\n\t */\n\tautoSwitchAudioDevice?: boolean;\n\trecording?: RecordingConfig;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"audio-video",children:"audio, video"}),"\n",(0,t.jsx)(n.p,{children:"This optional propery is true by default and defines whether audio or video would be acquired and enabled on SDK initialization"}),"\n",(0,t.jsx)(n.p,{children:"** Change default audio / video settings (())"}),"\n",(0,t.jsx)(n.p,{children:"By default as soon as you join the meeting the SDK will produce your video and\naudio streams."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:"{5}",children:"const meeting = await DyteClient.init({\n  authToken,\n  defaults: {\n    audio: false, // Disable user's audio by default\n    video: true, // Enable user's video by default\n  },\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"screensharedisplaysurface",children:"screenShare.displaySurface"}),"\n",(0,t.jsxs)(n.p,{children:["Specifies the ",(0,t.jsx)(n.em,{children:"preferred"})," screenshare surface, user will still be shown all possible options but the one configured here will be preselected"]}),"\n",(0,t.jsxs)(n.p,{children:["Allowed values: ",(0,t.jsx)(n.code,{children:"window"}),", ",(0,t.jsx)(n.code,{children:"monitor"}),", ",(0,t.jsx)(n.code,{children:"browser"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints#displaysurface",children:"https://developer.mozilla.org/en-US/docs/Web/API/MediaTrackConstraints#displaysurface"})}),"\n",(0,t.jsx)(n.h3,{id:"mediaconfiguration",children:"mediaConfiguration"}),"\n",(0,t.jsx)(n.p,{children:"Defines media quality configuration"}),"\n",(0,t.jsx)(n.p,{children:"For audio -"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"{\n\techoCancellation?: boolean, // default true\n\tnoiseSupression?: boolean, // default true\n\tautoGainControl?: boolean, // default true\n\tenableStereo?: boolean, // default false\n\tenableHighBitrate?: boolean // default false\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"For applications where audio quality needs to be high and as loseless as possible"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"{\n\techoCancellation: false,\n\tnoiseSupression: false,\n\tautoGainControl: false,\n\tenableStereo: true,\n\tenableHighBitrate: true,\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"For video -"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"{\n\twidth: { ideal: number },\n\theight: { ideal: number },\n\tframeRate?: { ideal: number },\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"isnonpreferreddevice",children:"isNonPreferredDevice"}),"\n",(0,t.jsx)(n.p,{children:"Our SDK will acquire media devices preferring virtual devices to not be selected by default (OBS, iPhone continuity)\nYou can override this logic by using your own function to decide the preference"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:'defaults: {\n  ...\n  isNonPreferredDevice: (device: MediaDeviceInfo) => {\n    if(device.label.startsWith("Virtual")) {\n      return false\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"autoswitchaudiodevice",children:"autoSwitchAudioDevice"}),"\n",(0,t.jsx)(n.p,{children:"By default, when a new audio device is plugged in our SDK switches to that device. You can configure that behaviour"}),"\n",(0,t.jsx)(n.h3,{id:"recording",children:"recording"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"{\n\tfileNamePrefix?: string;\n\tvideoConfig?: {\n\t\theight?: number;\n\t\twidth?: number;\n\t\tcodec?: string;\n\t};\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Refer to ",(0,t.jsx)(n.a,{href:"/guides/capabilities/recording/configure-codecs#configure-codecs",children:"recording codec guide"})," for info the ",(0,t.jsx)(n.code,{children:"codec"})," parameter"]}),"\n",(0,t.jsx)(i,{children:(0,t.jsx)("title",{children:"Web Core Advance"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>d});var t=i(96540);const a={},o=t.createContext(a);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);